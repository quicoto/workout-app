(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["start"],{"159b":function(e,t,i){var r=i("da84"),s=i("fdbc"),n=i("17c2"),o=i("9112");for(var a in s){var u=r[a],l=u&&u.prototype;if(l&&l.forEach!==n)try{o(l,"forEach",n)}catch(c){l.forEach=n}}},"17c2":function(e,t,i){"use strict";var r=i("b727").forEach,s=i("a640"),n=i("ae40"),o=s("forEach"),a=n("forEach");e.exports=o&&a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,i){"use strict";var r=i("23e7"),s=i("17c2");r({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},6848:function(e,t,i){},"843c":function(e,t,i){"use strict";i("6848")},a640:function(e,t,i){"use strict";var r=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&r((function(){i.call(null,t||function(){throw 1},1)}))}},d701:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.noWorkoutFound?i("b-container",[i("b-row",[i("b-col",{staticClass:"text-center text-danger"},[i("h2",[e._v("No workout was found")]),i("font-awesome-icon",{staticClass:"mt-4",attrs:{icon:["far","frown"],size:"5x",title:"Sad face"}})],1)],1)],1):e._e(),e.noWorkoutFound?e._e():i("b-container",{staticClass:"timer"},[i("Loader",{directives:[{name:"show",rawName:"v-show",value:!e.workout.id,expression:"!workout.id"}]}),e.workout.id?i("b-row",[e.isUserReady?e._e():i("b-col",[i("h2",{staticClass:"text-center mb-4 text-info"},[i("em",[e._v(e._s(e.workout.name))])]),i("div",{staticClass:"text-center"},[i("div",{staticClass:"d-flex align-items-center justify-content-center"},[i("ul",{staticClass:"text-left pl-0 mr-4"},[i("li",[e._v("Active time: "+e._s(e.workoutLevels[e.user.level-1].activeTime/1e3)+'"')]),i("li",[e._v("Rest time: "+e._s(e.workoutLevels[e.user.level-1].restTime/1e3)+'"')])]),i("img",{staticClass:"icon mb-4",attrs:{src:e.publicPath+"img/icons/levels/"+e.user.level+".svg",alt:"Level: "+e.levelName(e.user.level),title:"Level: "+e.levelName(e.user.level)}})]),i("b-form",[i("b-form-group",{attrs:{label:e.levelName(e.user.level)}},[i("b-form-input",{attrs:{id:"level-range",number:"",type:"range",min:e.workoutLevels[0].id,max:e.workoutLevels[e.workoutLevels.length-1].id},model:{value:e.user.level,callback:function(t){e.$set(e.user,"level",t)},expression:"user.level"}})],1)],1)],1),i("h3",{staticClass:"text-center mb-4"},[e._v("Are you Ready?")]),i("b-button",{attrs:{block:"",size:"lg",variant:"primary"},on:{click:function(t){return e.start()}}},[e._v(" Start! ")])],1),e.isUserReady?i("b-col",{staticClass:"text-center mb-3"},[i("b-row",{directives:[{name:"show",rawName:"v-show",value:e.progress<100,expression:"progress < 100"}],staticClass:"header mb-4"},[i("b-col",[i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.currentItem-1>=0,expression:"currentItem - 1 >= 0"}],attrs:{variant:"primary",size:"lg",block:""},on:{click:function(t){return e.previous()}}},[e._v("Previous")])],1),i("b-col",[i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.currentItem+1<e.timeline.length,expression:"currentItem + 1 < timeline.length"}],attrs:{variant:"primary",size:"lg",block:""},on:{click:function(t){return e.next()}}},[e._v("Next")])],1)],1),"undefined"!==typeof e.timeline[e.currentItem]&&e.timeline[e.currentItem].id?i("div",{staticClass:"h1 pt-4 mb-4 itemName text-warning"},[e._v(e._s(e.timeline[e.currentItem].name))]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"undefined"!==typeof e.timeline[e.currentItem]&&!e.timeline[e.currentItem].id&&e.currentItem<e.timeline.length,expression:"typeof timeline[currentItem] !== 'undefined' &&\n            !timeline[currentItem].id && currentItem < timeline.length"}],staticClass:"h1 pt-4 mb-4 itemName text-success"},[e._v("Rest time")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currentItem===e.timeline.length,expression:"currentItem === timeline.length"}],staticClass:"h2 text-success pt-5"},[i("p",[i("font-awesome-icon",{attrs:{size:"3x",icon:["far","grin-stars"]}})],1),i("p",[e._v(" Congratulations ")]),i("p",[e._v(" You're done! ")])]),e.currentItem<e.timeline.length?i("div",{staticClass:"h1 timeLeft text-light",class:e.timer.remaining&&!0===e.timer.paused?"timeLeft--active":""},[e._v(" "+e._s(e.printTimeLeft())+" ")]):e._e(),"undefined"!==typeof e.timeline[e.currentItem+1]&&e.timeline[e.currentItem+1].name?i("div",{staticClass:"h1 pt-4 text-muted"},[e._v(" Next up:"),i("br"),e._v(e._s(e.timeline[e.currentItem+1].name)+" ")]):e._e(),e.currentItem+1<=e.timeline.length?i("div",{staticClass:"text-muted mt-5"},[e._v(" "+e._s(e.currentItem+1)+" of "+e._s(e.timeline.length)+" ")]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.progress<100,expression:"progress < 100"}],staticClass:"footer"},[i("b-progress",{attrs:{value:e.progress,variant:"success",striped:"",animated:e.progressAnimation}}),i("div",{staticClass:"footerActions d-flex align-items-stretch"},[i("div",{staticClass:"column align-self-center flex-fill"},[i("b-button",{attrs:{variant:"danger",size:"lg",block:""},on:{click:function(t){return e.stop()}}},[e._v("STOP")])],1),i("div",{staticClass:"column align-self-center flex-fill"},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.timer.paused,expression:"!timer.paused"}],attrs:{variant:"warning",size:"lg",block:""},on:{click:function(t){return e.pause()}}},[e._v("PAUSE")]),i("b-button",{directives:[{name:"show",rawName:"v-show",value:e.timer.paused,expression:"timer.paused"}],attrs:{variant:"success",size:"lg",block:""},on:{click:function(t){return e.resume()}}},[e._v("RESUME")])],1)])],1)],1):e._e()],1):e._e()],1)],1)},s=[],n=(i("7db0"),i("4160"),i("b0c0"),i("159b"),i("555f")),o={prevent:function(){this._video||this._init(),this._video.setAttribute("loop","loop"),this._video.play()},allow:function(){this._video&&(this._video.removeAttribute("loop"),this._video.pause())},_init:function(){this._video=document.createElement("video"),this._video.setAttribute("playsinline",!0),this._video.setAttribute("width","10"),this._video.setAttribute("height","10"),this._video.style.position="absolute",this._video.style.top="-10px",this._video.style.left="-10px";var e=document.createElement("source");e.setAttribute("src","/videos/muted-blank.mp4"),e.setAttribute("type","video/mp4"),this._video.appendChild(e);var t=document.createElement("source");t.setAttribute("src","/videos/muted-blank.ogv"),t.setAttribute("type","video/ogg"),this._video.appendChild(t),document.body.appendChild(this._video)},_video:null},a={components:{Loader:n["a"]},data:function(){return{currentItem:0,currentLevel:{},currentGoal:{},isUserReady:!1,noWorkoutFound:!1,timer:{totalTime:0,timerId:{},start:{},remaining:null,paused:!0},workout:{},user:{level:2,goal:2},timeline:[],publicPath:"/workout-app/"}},mounted:function(){var e=this.$storage.get("data"),t=parseInt(this.$route.params.workout_id,10);null!==e&&void 0!==e&&e.workouts&&t?(this.workoutLevels=e["workout-levels"],this.workoutGoals=e["workout-goals"],this.exercises=e.exercises,t&&(this.workout=e.workouts.find((function(e){return e.id===t})),this.workout||(this.noWorkoutFound=!0))):this.noWorkoutFound=!0},computed:{progress:function(){var e=0;if(this.currentItem===this.timeline.length)return 100;for(var t=0;t<this.currentItem;t++)this.timeline[t].id?e+=this.currentLevel.activeTime:e+=this.currentLevel.restTime;return Math.floor(100*e/+this.timer.totalTime)},progressAnimation:function(){return this.currentItem!==this.timeline.length}},methods:{goalName:function(e){if(this.workoutGoals){var t=this.workoutGoals.find((function(t){return t.id===parseInt(e,10)}));if(t)return t.name}return""},levelName:function(e){if(this.workoutLevels){var t=this.workoutLevels.find((function(t){return t.id===parseInt(e,10)}));if(t)return t.name}return""},pauseAndClear:function(){this.timer.paused=!0,window.clearTimeout(this.timer.timerId),this.timer.remaining=null},next:function(){this.pauseAndClear(),this.currentItem+1<this.timeline.length&&this.currentItem++,this.resume()},previous:function(){this.pauseAndClear(),this.currentItem--,this.resume()},start:function(){var e=this;o.prevent(),1===this.workout.type&&(this.currentLevel=this.workoutLevels.find((function(t){return t.id===e.user.level})));for(var t=0,i=this.workout.rounds.length;t<i;t++)for(var r=1,s=this.workout.rounds[t].repeats;r<=s;r++)this.workout.rounds[t].exercises.forEach((function(t){e.timeline.push(e.exercises.find((function(e){return e.id===t}))),e.timer.totalTime+=e.currentLevel.activeTime,1===e.workout.type&&(e.timeline.push(e.currentLevel.restTime),e.timer.totalTime+=e.currentLevel.restTime)}));this.timeline.pop(),this.timer.totalTime-=this.currentLevel.restTime,this.isUserReady=!0,this.resume()},resume:function(){var e=this;this.timer.paused=!1,null!==this.timer.remaining&&0!==this.timer.remaining||(this.timeline[this.currentItem].id?this.timer.remaining=this.currentLevel.activeTime:this.timer.remaining=this.timeline[this.currentItem]),this.timer.timerId=window.setTimeout((function(){e.timer.remaining>0?(e.resume(),e.timer.remaining-=1e3):(e.currentItem++,e.currentItem<e.timeline.length?e.resume():e.pauseAndClear())}),1e3)},pause:function(){o.allow(),this.timer.paused=!0,window.clearTimeout(this.timer.timerId)},stop:function(){this.$router.go(this.$router.currentRoute)},printTimeLeft:function(){return this.timer.remaining>=0?"".concat(this.timer.remaining/1e3,'"'):""}}},u=a,l=(i("843c"),i("2877")),c=Object(l["a"])(u,r,s,!1,null,"124e76c6",null);t["default"]=c.exports},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);